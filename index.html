<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Butterflies</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
html, body {
  margin: 0;
  padding: 0;
  overflow: hidden;
  background: #87ceeb;
  font-family: system-ui, sans-serif;
}

/* Canvas full screen */
canvas {
  position: fixed;
  inset: 0;
  z-index: 0;
}

/* Overlay content (optional, later) */
.overlay {
  position: fixed;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  pointer-events: none;
  z-index: 2;
}

.overlay h1 {
  color: white;
  font-size: 36px;
  text-shadow: 0 10px 30px rgba(0,0,0,0.4);
}
</style>
</head>

<body>

<canvas id="scene"></canvas>

<div class="overlay">
  <h1>Butterflies</h1>
</div>

<script>
const canvas = document.getElementById("scene");
const ctx = canvas.getContext("2d");

function resize() {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
resize();
window.addEventListener("resize", resize);

/* ===== Butterfly Class ===== */
class Butterfly {
  constructor() {
    this.reset();
  }

  reset() {
    this.x = Math.random() * canvas.width;
    this.y = canvas.height + Math.random() * canvas.height;
    this.size = 4 + Math.random() * 6;
    this.speed = 0.5 + Math.random() * 1.5;
    this.angle = Math.random() * Math.PI * 2;
    this.swing = Math.random() * 0.05 + 0.02;
    this.color = `hsl(${Math.random()*40 + 10}, 80%, 60%)`;
  }

  update() {
    this.y -= this.speed;
    this.x += Math.sin(this.angle) * 1.5;
    this.angle += this.swing;

    if (this.y < -20) this.reset();
  }

  draw() {
    ctx.save();
    ctx.translate(this.x, this.y);
    ctx.fillStyle = this.color;

    // wings
    ctx.beginPath();
    ctx.ellipse(-this.size, 0, this.size, this.size * 0.6, 0, 0, Math.PI * 2);
    ctx.ellipse(this.size, 0, this.size, this.size * 0.6, 0, 0, Math.PI * 2);
    ctx.fill();

    ctx.restore();
  }
}

/* ===== Create Swarm ===== */
const butterflies = [];
const COUNT = 180; // increase for more chaos

for (let i = 0; i < COUNT; i++) {
  butterflies.push(new Butterfly());
}

/* ===== Animate ===== */
function animate() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  butterflies.forEach(b => {
    b.update();
    b.draw();
  });

  requestAnimationFrame(animate);
}
animate();
</script>

</body>
</html>
